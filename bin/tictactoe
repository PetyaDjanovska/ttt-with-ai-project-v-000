#!/usr/bin/env ruby

require_relative '../config/environment'

def start
  puts "Welcome to Tic Tac Toe!"
  puts "How do you want to play?
  0-player game has two computer players playing against each other with no interaction from the user.
  1-player game has a human playing against a computer.
  2-player game has two human players.
  exit - exit the game."
  input = gets.strip
  case input
  when "0"
    game = Game.new(player_1 = Computer.new("X"), player_2 = Computer.new("O"), board = Board.new)
    game.play
  when "1"
    puts "Who starts first with 'X' - human(H) or computer(C)?"
    input = gets.strip
    case input
    when "H"
      game = Game.new(player_1 = Human.new("X"), player_2 = Computer.new("O"), board = Board.new)
      game.play
    when "C"
      game = Game.new(player_1 = Computer.new("X"), player_2 = Human.new("O"), board = Board.new)
      game.play
    end
  when "2"
    game = Game.new
    game.play
  when "exit"
    exit!
  end
end

start
if game.over?
  start
end
